<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Load Semua Produk - E-Commerce</title>
    <link rel="stylesheet" href="css/style.css" />
</head>

<body>
    <div class="layout">
        <main class="main">
            <header class="topbar">
                <div>
                    <h2>Mode Load Semua (Non-Pagination)</h2>
                    <span id="roleBadge"
                        style="font-size: 12px; background: #e0e7ff; color: #3730a3; padding: 2px 8px; border-radius: 99px;">Loading...</span>
                </div>
                <div style="display: flex; gap: 10px;">
                    <a href="dashboard.html"
                        style="background: white; color: #2563eb; padding: 6px 12px; text-decoration: none; border-radius: 4px; font-size: 14px; font-weight: bold;">Ke
                        Dashboard</a>
                    <button class="logout" onclick="logout()">Logout</button>
                </div>
            </header>

            <div class="controls-wrapper"
                style="padding: 15px; display: flex; justify-content: space-between; align-items: center; gap: 10px;">
                <div class="filters" style="display: flex; gap: 10px;">
                    <input type="text" id="searchInput" placeholder="Cari Produk..."
                        style="padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px; width: 250px;">
                    <select id="sortSelect" style="padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px;">
                        <option value="id_produk">ID</option>
                        <option value="nama_produk">Nama</option>
                        <option value="harga">Harga</option>
                        <option value="stok">Stok</option>
                    </select>
                </div>
                <div class="actions"></div>
            </div>

            <div class="table-wrapper">
                <table id="produk-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nama</th>
                            <th>Dept</th>
                            <th>Harga</th>
                            <th>Stok</th>
                            <th>Status</th>
                            <th id="headerAksi">Aksi</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div id="statusInfo" style="text-align: center; padding: 20px; color: #64748b; font-weight: bold;">
                Memuat data...
            </div>
        </main>
    </div>

    <!-- MODAL ADD/EDIT -->
    <div id="productModal" class="modal"
        style="display:none; position:fixed; z-index:100; left:0; top:0; width:100%; height:100%; overflow:auto; background-color:rgba(0,0,0,0.4);">
        <div class="modal-content"
            style="background-color:#fefefe; margin:10% auto; padding:20px; border:1px solid #888; width:50%; border-radius:8px;">
            <h3 id="modalTitle">Form Produk</h3>
            <form id="productForm">
                <input type="hidden" id="productId">
                <div style="margin-bottom:15px;"><label>Nama Produk</label><input type="text" id="nama" required
                        style="width:100%; padding:8px; display:block; margin-top:5px;"></div>
                <div style="margin-bottom:15px;"><label>Kategori (Dept)</label><input type="text" id="kategori" required
                        style="width:100%; padding:8px; display:block; margin-top:5px;"></div>
                <div style="margin-bottom:15px;"><label>Harga</label><input type="number" id="harga" required
                        style="width:100%; padding:8px; display:block; margin-top:5px;"></div>
                <div style="margin-bottom:15px;"><label>Stok</label><input type="number" id="stok" required
                        style="width:100%; padding:8px; display:block; margin-top:5px;"></div>
                <div style="text-align:right;">
                    <button type="button" onclick="closeModal()"
                        style="padding:8px 16px; background:#ccc; border:none; cursor:pointer; border-radius:4px; margin-right:10px;">Batal</button>
                    <button type="submit"
                        style="padding:8px 16px; background:#2563eb; color:white; border:none; cursor:pointer; border-radius:4px;">Simpan</button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/rbac.js"></script>
    <script src="js/non-pagination.js"></script>
</body>

</html>